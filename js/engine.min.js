var Engine=function(e){function n(){var e=Date.now(),a=(e-i)/1e3;player.score>=0?(gamePlay?(m.clearRect(0,0,705,606),c(),pause?pauseScreen.display():r(a)):startScreen(),i=e,l.requestAnimationFrame(n)):gameOverScreen.display()}function a(){g(),i=Date.now(),n()}function r(e){o(e),player.checkCollisions(),player.checkGems(),player.clock(e),player.checkTimer()}function o(e){allEnemies.forEach(function(n){n.update(e)}),player.update(e)}function c(){var e,n,a=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"],r=6,o=5;for(e=0;r>e;e++)for(n=0;o>n;n++)m.drawImage(Resources.get(a[e]),101*n,83*e);s(),scoreBoard()}function s(){gem.render(),allEnemies.forEach(function(e){e.render()}),player.render()}function g(){startScreen()}var i,t=e.document,l=e.window,p=t.createElement("canvas"),m=p.getContext("2d");p.width=705,p.height=606,t.body.appendChild(p),Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-horn-girl.png","images/speech-bubble.png","images/gem-orange.png"]),Resources.onReady(a),e.ctx=m}(this);