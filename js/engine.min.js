var Engine=function(e){function a(){var e=Date.now(),n=(e-c)/1e3;player.score>=0?(gamePlay?(u.clearRect(0,0,705,606),r(),pause?(pauseScreen.display(),g.pause()):(s(n),g.play())):(startScreen(),g.pause()),c=e,p.requestAnimationFrame(a)):(gameOverScreen.display(),g.pause(),m.play())}function n(){i(),c=Date.now(),a()}function s(e){t(e),player.checkCollisions(),player.checkGems(),player.clock(e),player.checkTimer()}function t(e){allEnemies.forEach(function(a){a.update(e)}),player.update(e)}function r(){var e,a,n=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"],s=6,t=5;for(e=0;s>e;e++)for(a=0;t>a;a++)u.drawImage(Resources.get(n[e]),101*a,83*e);o(),scoreBoard()}function o(){gem.render(),allEnemies.forEach(function(e){e.render()}),player.render()}function i(){startScreen()}var c,d=e.document,p=e.window,l=d.createElement("canvas"),u=l.getContext("2d"),g=d.createElement("audio"),m=d.createElement("audio"),b=d.createElement("audio"),h=d.createElement("audio"),y=d.createElement("audio"),f=d.createElement("audio");l.width=705,l.height=606,d.body.appendChild(l),d.body.appendChild(g),d.body.appendChild(m),d.body.appendChild(b),d.body.appendChild(h),d.body.appendChild(y),d.body.appendChild(f),g.setAttribute("id","music"),m.setAttribute("id","gameOver"),b.setAttribute("id","bite"),h.setAttribute("id","splash"),y.setAttribute("id","collect"),f.setAttribute("id","buzzer"),g.loop=!0,g.src="sounds/background-music.mp3",m.src="sounds/game-over.mp3",b.src="sounds/bite.mp3",h.src="sounds/splash.mp3",y.src="sounds/gem.mp3",f.src="sounds/buzzer.mp3",Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-horn-girl.png","images/speech-bubble.png","images/gem-orange.png"]),Resources.onReady(n),e.ctx=u}(this);